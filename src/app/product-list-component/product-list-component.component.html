<div class="container mt-4">
  <ngb-carousel  [interval]="5000"
  [pauseOnHover]="true"
  (slide)="onSlideChange($event)"
  *ngIf="products && products.length">
    <ng-template ngbSlide *ngFor="let product of products; let i = index">
      <div class="picsum-img-wrapper text-center">
        <img [src]="product.image" [alt]="product.name" class="img-fluid rounded">
      </div>
    </ng-template>
  </ngb-carousel>
  <div class="container mt-5 text-center">
    
  </div>
  
      <div class="producto-info text-center mt-4" *ngIf="products.length">
        <h5 class="fw-bold">{{ products[currentSlide].name }}</h5>
        <p class="text-muted">Precio: ${{ products[currentSlide].price }}</p>
      </div>     
        <div class="cantidad d-flex justify-content-center align-items-center mb-3">
          <button class="btn btn-outline-secondary btn-sm" (click)="decrementQuantity(currentSlide)">-</button>
          <span class="mx-3">{{ products[currentSlide].quantity }}</span>
          <button class="btn btn-outline-secondary btn-sm" (click)="incrementQuantity(currentSlide)">+</button>
        </div>
        <div class="text-center">
          <button
            [class]="agregado ? 'btn btn-success' : 'btn btn-primary'"
            [disabled]="agregado"
            (click)="addToCart(products[currentSlide])"
          >
            {{ agregado ? 'âœ… Agregado' : 'Agregar al carrito' }}
          </button>
        </div>  
        
        <button class="btn btn-warning cart-toggle-btn" (click)="toggleCarrito()">
          ðŸ›’ {{ mostrarCarrito ? 'Cerrar' : 'Ver carrito' }}
        </button>
        
</div>
<div class="cart-sidebar" [class.open]="mostrarCarrito">
  <h5>ðŸ›’ Carrito</h5>

  <div *ngIf="cart.length > 0; else emptyCart">
    <ul class="list-group mb-3">
      <li
        class="list-group-item d-flex justify-content-between align-items-center"
        *ngFor="let item of cart"
      >
      <div>
        {{ item.name }} x{{ item.quantity }}
        <br />
        <button class="btn btn-sm btn-outline-danger mt-1" (click)="eliminarDelCarrito(item.id)">
          Eliminar
        </button>
      </div>
      <span class="badge bg-success rounded-pill">
        ${{ item.price * item.quantity }}
      </span>
      </li>
    </ul>
    <p class="fw-bold">Total: ${{ getCartTotal() }}</p>
  </div>

  <ng-template #emptyCart>
    <p>Tu carrito estÃ¡ vacÃ­o.</p>
  </ng-template>
</div>

